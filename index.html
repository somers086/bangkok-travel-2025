
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>æ›¼è°·æ—…éŠåŠ©æ‰‹ 2025</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Vue 3 -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', 'Noto Sans TC', sans-serif; background-color: #F8F9FA; -webkit-tap-highlight-color: transparent; }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .custom-scrollbar::-webkit-scrollbar { width: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: #A4B0F5; border-radius: 10px; }
    .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
  </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0",
    "framer-motion": "https://esm.sh/framer-motion@^12.23.26",
    "lucide-react": "https://esm.sh/lucide-react@^0.562.0"
  }
}
</script>
</head>
<body class="text-[#2D3436]">
  <div id="app" class="max-w-md mx-auto h-screen flex flex-col relative overflow-hidden">
    
    <!-- Header -->
    <header class="px-6 pt-12 pb-4 bg-[#F8F9FA] z-30 shrink-0">
      <h1 class="text-2xl font-black text-[#4464AD]">
        {{ activeTab === 'itinerary' ? 'æ›¼è°·è¡Œç¨‹ ğŸ‡¹ğŸ‡­' : activeTab === 'finance' ? 'æ—…éŠè¨˜å¸³ à¸¿' : 'å‚™å¿˜æ¸…å–®' }}
      </h1>
      <p class="text-[10px] font-bold text-[#466995] tracking-widest uppercase opacity-60">Feb 25 - Mar 05</p>
    </header>

    <!-- Main Content -->
    <main class="flex-1 overflow-hidden relative">
      
      <!-- è¡Œç¨‹è¦–åœ– -->
      <div v-if="activeTab === 'itinerary'" class="h-full flex flex-col">
        <!-- æ—¥æœŸé¸æ“‡å™¨ -->
        <div class="sticky top-0 z-40 bg-[#F8F9FA]/90 backdrop-blur-md border-b border-gray-100 py-4">
          <div class="flex overflow-x-auto whitespace-nowrap px-4 no-scrollbar space-x-2">
            <button v-for="(day, idx) in itinerary" :key="idx" 
              @click="currentDayIdx = idx"
              :class="['px-4 py-2 rounded-xl text-[10px] font-black transition-all', 
              currentDayIdx === idx ? 'bg-[#4464AD] text-white shadow-lg' : 'bg-white text-[#A4B0F5] border border-[#A4B0F5]/20']">
              {{ day.dateLabel }}
            </button>
          </div>
        </div>
        <!-- æ™¯é»åˆ—è¡¨ -->
        <div class="flex-1 overflow-y-auto custom-scrollbar px-5 pt-5 pb-32">
          <div class="flex justify-between items-end mb-6">
            <div>
              <h2 class="text-lg font-black text-[#4464AD]">{{ itinerary[currentDayIdx].title }}</h2>
              <span class="text-[9px] font-black text-[#466995] bg-[#4464AD]/5 px-2 py-0.5 rounded-full uppercase">{{ itinerary[currentDayIdx].spots.length }} SPOTS</span>
            </div>
            <button @click="showAddModal = true" class="w-10 h-10 rounded-xl bg-[#F58F29] text-white flex items-center justify-center shadow-lg"><i data-lucide="plus"></i></button>
          </div>
          <div class="space-y-4">
            <div v-for="spot in itinerary[currentDayIdx].spots" :key="spot.id" 
              class="bg-white p-4 rounded-[28px] border border-gray-100 shadow-sm flex items-start relative overflow-hidden group">
              <div class="w-12 h-12 rounded-[18px] bg-[#A4B0F5]/10 flex flex-col items-center justify-center shrink-0 mr-4 border border-[#A4B0F5]/20">
                <span class="text-[11px] font-black text-[#4464AD]">{{ spot.time }}</span>
                <span class="text-[7px] font-bold text-[#466995]">PLAN</span>
              </div>
              <div class="flex-1 pr-4">
                <h4 class="font-bold text-[#4464AD] text-sm mb-1">{{ spot.name }}</h4>
                <p class="text-[11px] text-gray-400 font-medium leading-relaxed">{{ spot.desc }}</p>
                <div class="flex mt-3 space-x-3">
                  <span class="flex items-center text-[9px] font-black text-[#4464AD] bg-[#4464AD]/5 px-2 py-1 rounded-lg"><i data-lucide="map-pin" class="w-2.5 h-2.5 mr-1"></i> åœ°åœ–</span>
                  <span @click="removeSpot(spot.id)" class="text-[9px] font-black text-red-400 py-1">ç§»é™¤</span>
                </div>
              </div>
              <i data-lucide="navigation" class="absolute -right-4 -bottom-4 text-[#4464AD]/5 w-20 h-20 -rotate-12"></i>
            </div>
          </div>
        </div>
      </div>

      <!-- è¨˜å¸³è¦–åœ– -->
      <div v-if="activeTab === 'finance'" class="px-5 pt-4 h-full overflow-y-auto pb-32">
        <div class="bg-gradient-to-br from-[#4464AD] to-[#466995] p-8 rounded-[32px] shadow-2xl text-white mb-8">
          <p class="text-[9px] opacity-70 mb-1 font-bold tracking-widest uppercase">ç›®å‰ç¸½èŠ±è²»</p>
          <h2 class="text-4xl font-black">à¸¿ {{ totalExpenses.toLocaleString() }}</h2>
          <div class="mt-6 text-[10px] bg-white/10 p-3 rounded-xl border border-white/10">é ç®—ç‹€æ…‹ï¼šè‰¯å¥½ âœ…</div>
        </div>
        <div class="space-y-3">
          <div v-for="exp in expenses" :key="exp.id" class="bg-white p-4 rounded-2xl border border-gray-100 flex justify-between items-center">
            <div class="flex items-center space-x-4">
              <div class="w-10 h-10 bg-[#A4B0F5]/10 rounded-xl flex items-center justify-center font-bold text-[#4464AD]">{{ exp.cat[0] }}</div>
              <div>
                <h4 class="text-xs font-bold">{{ exp.note }}</h4>
                <p class="text-[9px] text-gray-400">{{ exp.date }}</p>
              </div>
            </div>
            <div class="font-black text-sm">à¸¿{{ exp.amount }}</div>
          </div>
        </div>
      </div>

      <!-- æ¸…å–®è¦–åœ– -->
      <div v-if="activeTab === 'shopping'" class="px-5 pt-4 h-full overflow-y-auto pb-32">
        <div class="bg-white p-6 rounded-[32px] border border-gray-100 mb-6">
          <h3 class="font-black text-sm text-[#4464AD] mb-4 uppercase tracking-widest flex items-center">
            <i data-lucide="shopping-bag" class="mr-2 text-[#F58F29]"></i> è³¼ç‰©èˆ‡å‚™å¿˜
          </h3>
          <div class="space-y-1">
            <div v-for="item in shoppingList" :key="item.id" @click="item.done = !item.done" 
              class="flex items-center space-x-4 py-3 cursor-pointer">
              <div :class="['w-5 h-5 rounded-full border-2 transition-all', item.done ? 'bg-[#A4B0F5] border-[#A4B0F5]' : 'border-[#A4B0F5]/40']"></div>
              <span :class="['text-xs font-bold', item.done ? 'text-gray-300 line-through' : 'text-gray-600']">{{ item.text }}</span>
            </div>
          </div>
        </div>
      </div>

    </main>

    <!-- Bottom Nav -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-xl border-t border-gray-100 px-8 py-4 flex justify-between items-center z-50 shadow-lg safe-bottom">
      <button @click="activeTab = 'itinerary'" :class="activeTab === 'itinerary' ? 'text-[#4464AD]' : 'text-gray-300'" class="flex flex-col items-center space-y-1">
        <i data-lucide="calendar"></i><span class="text-[9px] font-black">è¡Œç¨‹</span>
      </button>
      <button @click="activeTab = 'finance'" :class="activeTab === 'finance' ? 'text-[#4464AD]' : 'text-gray-300'" class="flex flex-col items-center space-y-1">
        <i data-lucide="wallet"></i><span class="text-[9px] font-black">è¨˜å¸³</span>
      </button>
      <button @click="activeTab = 'shopping'" :class="activeTab === 'shopping' ? 'text-[#4464AD]' : 'text-gray-300'" class="flex flex-col items-center space-y-1">
        <i data-lucide="shopping-bag"></i><span class="text-[9px] font-black">æ¸…å–®</span>
      </button>
    </nav>

    <!-- èƒŒæ™¯è£é£¾ -->
    <div class="fixed -top-32 -left-32 w-80 h-80 bg-[#4464AD]/5 rounded-full blur-[80px] -z-10"></div>
    <div class="fixed bottom-24 -right-32 w-80 h-80 bg-[#A4B0F5]/5 rounded-full blur-[80px] -z-10"></div>

    <!-- Add Spot Modal -->
    <div v-if="showAddModal" class="fixed inset-0 z-[100] flex items-end justify-center p-4">
      <div class="absolute inset-0 bg-[#4464AD]/20 backdrop-blur-sm" @click="showAddModal = false"></div>
      <div class="relative w-full max-w-sm bg-white rounded-[32px] p-8 shadow-2xl">
        <h3 class="text-xl font-black text-[#4464AD] mb-6">æ–°å¢åœ°é»</h3>
        <input v-model="newItem.name" placeholder="åç¨±..." class="w-full bg-gray-50 border-none rounded-2xl px-5 py-4 text-xs font-bold mb-3 focus:ring-2 focus:ring-[#A4B0F5]">
        <input v-model="newItem.time" type="time" class="w-full bg-gray-50 border-none rounded-2xl px-5 py-4 text-xs font-bold mb-3 focus:ring-2 focus:ring-[#A4B0F5]">
        <button @click="addSpot" class="w-full py-4 bg-[#F58F29] text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl">å„²å­˜è¡Œç¨‹</button>
      </div>
    </div>

  </div>

  <script>
    const { createApp, ref, computed, onMounted, nextTick } = Vue;

    createApp({
      setup() {
        const activeTab = ref('itinerary');
        const currentDayIdx = ref(0);
        const showAddModal = ref(false);
        const newItem = ref({ name: '', time: '12:00', desc: '' });

        const itinerary = ref([
          { dateLabel: '2/25 (ä¸‰)', title: 'Day 1: å…¥å¢ƒèˆ‡é«˜ç´šé¥—å®´', spots: [
            { id: 1, time: '16:45', name: 'ç´ è¬é‚£æ™®æ©Ÿå ´ (BKK)', desc: 'è¾¦ç†å…¥å¢ƒä¸¦æ­ä¹˜è¨ˆç¨‹è»Šå‰å¾€é£¯åº—' },
            { id: 2, time: '18:30', name: 'Shama Sukhumvit', desc: 'é£¯åº—å ±åˆ° Check-in' },
            { id: 3, time: '19:30', name: 'Wisdom Buffet (Paragon)', desc: 'ç²¾ç·»æ³°å¼/åœ‹éš›åƒåˆ°é£½' },
            { id: 4, time: '21:00', name: 'After You Dessert Cafe', desc: 'å¿…åƒæ³°å¥¶åˆ¨å†°' }
          ]},
          { dateLabel: '2/26 (å››)', title: 'Day 2: å—é¾å¸‚å ´èˆ‡è€åŸç¾é£Ÿ', spots: [
            { id: 5, time: '10:00', name: 'å—é¾å¸‚å ´ (Nang Loeng)', desc: '40å¹´ç‰›è‚‰éºµã€è€çˆºçˆºå’–å•¡ã€å‚³çµ±ç”œé»' },
            { id: 6, time: '13:00', name: 'Boonlert è›‹éºµ', desc: 'ç¥ç€é›²åéºµ' },
            { id: 7, time: '15:00', name: 'K. Panich èŠ’æœç³¯ç±³é£¯', desc: 'ç±³å…¶æ—å¿…æ¯”ç™»æ¨è–¦' },
            { id: 8, time: '18:30', name: 'Krua Apsorn @Dinso', desc: 'è€åŸå€é“åœ°æ³°èœ' }
          ]},
          { dateLabel: '2/27 (äº”)', title: 'Day 3: è—è¡“è¡—æ•£ç­–', spots: [
            { id: 9, time: '12:00', name: 'Taling Pling', desc: 'Siam Paragon ç¶“å…¸æ³°èœ' },
            { id: 10, time: '15:00', name: 'Ong Ang Canal', description: 'è—è¡“è¡—æ•£æ­¥ã€æ‹å£ç•«' },
            { id: 11, time: '19:00', name: 'Central World', description: 'å°‹æ‰¾ Unoï¼å’–å•¡' }
          ]},
          { dateLabel: '2/28 (å…­)', title: 'Day 4: æ°åœ–æ°ç˜‹ç‹‚è³¼ç‰©', spots: [
            { id: 12, time: '10:00', name: 'æ°åœ–æ°é€±æœ«å¸‚é›†', desc: 'å…¨ä¸–ç•Œæœ€å¤§é€±æœ«å¸‚é›†' },
            { id: 13, time: '15:00', name: 'DRINK COFFEE', desc: 'å† è»å’–å•¡ä¼‘æ¯' },
            { id: 14, time: '19:00', name: 'åŸå ¡å¤œå¸‚', desc: 'ç†±é¬§å¤œç”Ÿæ´»é«”é©—' }
          ]},
          { dateLabel: '3/01 (æ—¥)', title: 'Day 5: å”äººè¡—æŒ–å¯¶', spots: [
            { id: 15, time: '10:00', name: 'ä¸‰è˜æ‰¹ç™¼å¸‚å ´', desc: 'é£¾å“æ–‡å…·æŒ–å¯¶' },
            { id: 16, time: '13:00', name: 'äºŒæ‰‹ç©å…·è¡—', desc: 'æ‡·èˆŠå…¬ä»”ç©å…·' },
            { id: 17, time: '19:00', name: 'å”äººè¡—æ™šé¤', desc: 'Tawanchai Fresh Milk' }
          ]},
          { dateLabel: '3/02 (ä¸€)', title: 'Day 6: å¾©å¤è€åŸæ•£ç­–', spots: [
            { id: 18, time: '14:00', name: 'Talat Noi æ¢ç´¢', desc: 'é¦™æ¸¯è€å®…å’–å•¡ã€ç³–çµ²å’–å•¡' },
            { id: 19, time: '19:00', name: 'Sam Lor', desc: 'èˆ’èŠ™è•¾æ­å§†è›‹é£¯' }
          ]},
          { dateLabel: '3/03 (äºŒ)', title: 'Day 7: å¸­éš†ç±³å…¶æ—è¡—', spots: [
            { id: 20, time: '12:00', name: 'Central Park Bangkok', desc: 'ç±³å…¶æ—ä¸€æ¢è¡—' },
            { id: 21, time: '19:00', name: 'çŸ®äººé¤å»³', desc: 'ç¾©å¼æ–™ç†æ™šé¤' }
          ]},
          { dateLabel: '3/04 (ä¸‰)', title: 'Day 8: ç«è»Šå¤œå¸‚', spots: [
            { id: 22, time: '12:00', name: 'Pad Thai Fai Ta Lu', desc: 'ç‚­ç«ç‚’æ²³ç²‰' },
            { id: 23, time: '19:00', name: 'å¸Œå¨œå…‹ç³ç«è»Šå¤œå¸‚', desc: 'å¤§å‹å¾©å¤å¸‚é›†' }
          ]},
          { dateLabel: '3/05 (å››)', title: 'Day 9: å›ç¨‹æº–å‚™', spots: [
            { id: 24, time: '10:00', name: 'æœ€å¾Œæ¡è²· (Big C)', desc: 'ä¼´æ‰‹ç¦®è£œè²¨' },
            { id: 25, time: '14:30', name: 'å‡ºç™¼æ©Ÿå ´', desc: '17:50 ç­æ©Ÿèµ·é£›' }
          ]}
        ]);

        const expenses = ref([
          { id: 1, cat: 'é¤é£²', amount: 1250, note: 'æ™ºæ…§è‡ªåŠ©é¤', date: '2/25' },
          { id: 2, cat: 'äº¤é€š', amount: 350, note: 'æ©Ÿå ´è¨ˆç¨‹è»Š', date: '2/25' }
        ]);

        const shoppingList = ref([
          { id: 1, text: 'è­·ç…§ & ç°½è­‰', done: true },
          { id: 2, text: 'æ³°éŠ–ç¾é‡‘', done: true },
          { id: 3, text: 'æ³°åœ‹ SIM å¡', done: false },
          { id: 4, text: 'é¼»é€š', done: false }
        ]);

        const totalExpenses = computed(() => expenses.value.reduce((s, e) => s + e.amount, 0));

        const addSpot = () => {
          if (!newItem.value.name) return;
          itinerary.value[currentDayIdx.value].spots.push({
            id: Date.now(),
            ...newItem.value
          });
          showAddModal.value = false;
          newItem.value = { name: '', time: '12:00', desc: '' };
          nextTick(() => lucide.createIcons());
        };

        const removeSpot = (id) => {
          itinerary.value[currentDayIdx.value].spots = itinerary.value[currentDayIdx.value].spots.filter(s => s.id !== id);
        };

        onMounted(() => {
          lucide.createIcons();
        });

        // ç›£è½ activeTab è®ŠåŒ–é‡æ–°æ¸²æŸ“åœ–æ¨™
        Vue.watch(activeTab, () => {
          nextTick(() => lucide.createIcons());
        });

        return { activeTab, itinerary, currentDayIdx, expenses, shoppingList, totalExpenses, showAddModal, newItem, addSpot, removeSpot };
      }
    }).mount('#app');
  </script>
</body>
</html>
