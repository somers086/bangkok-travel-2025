
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>æ›¼è°·æ—…éŠåŠ©æ‰‹ 2025</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Vue 3 -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', 'Noto Sans TC', sans-serif; background-color: #F8F9FA; -webkit-tap-highlight-color: transparent; }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .custom-scrollbar::-webkit-scrollbar { width: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: #A4B0F5; border-radius: 10px; }
    .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
    [v-cloak] { display: none; }
  </style>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0"
  }
}
</script>
</head>
<body class="text-[#2D3436]">
  <div id="app" v-cloak class="max-w-md mx-auto h-screen flex flex-col relative overflow-hidden shadow-2xl bg-[#F8F9FA]">
    
    <!-- Header -->
    <header class="px-6 pt-12 pb-4 bg-[#F8F9FA] z-30 shrink-0 border-b border-gray-100/50">
      <h1 class="text-2xl font-black text-[#4464AD]">
        {{ activeTab === 'itinerary' ? 'æ›¼è°·è¡Œç¨‹ ğŸ‡¹ğŸ‡­' : activeTab === 'finance' ? 'æ—…éŠè¨˜å¸³ à¸¿' : 'å‚™å¿˜æ¸…å–®' }}
      </h1>
      <p class="text-[10px] font-bold text-[#466995] tracking-widest uppercase opacity-60">Feb 25 - Mar 05</p>
    </header>

    <!-- Main Content -->
    <main class="flex-1 overflow-hidden relative">
      
      <!-- è¡Œç¨‹è¦–åœ– -->
      <div v-if="activeTab === 'itinerary'" class="h-full flex flex-col">
        <!-- æ—¥æœŸé¸æ“‡å™¨ -->
        <div class="sticky top-0 z-40 bg-[#F8F9FA]/90 backdrop-blur-md border-b border-gray-100 py-4">
          <div class="flex overflow-x-auto whitespace-nowrap px-4 no-scrollbar space-x-2">
            <button v-for="(day, idx) in itinerary" :key="idx" 
              @click="currentDayIdx = idx"
              :class="['px-4 py-2 rounded-xl text-[10px] font-black transition-all duration-300', 
              currentDayIdx === idx ? 'bg-[#4464AD] text-white shadow-lg scale-105' : 'bg-white text-[#A4B0F5] border border-[#A4B0F5]/20']">
              {{ day.dateLabel }}
            </button>
          </div>
        </div>
        <!-- æ™¯é»åˆ—è¡¨ -->
        <div class="flex-1 overflow-y-auto custom-scrollbar px-5 pt-5 pb-32">
          <div class="flex justify-between items-end mb-6">
            <div>
              <h2 class="text-lg font-black text-[#4464AD] leading-tight">{{ itinerary[currentDayIdx].title }}</h2>
              <span class="text-[9px] font-black text-[#466995] bg-[#4464AD]/5 px-2 py-0.5 rounded-full uppercase">{{ itinerary[currentDayIdx].spots.length }} å€‹åœ°é»</span>
            </div>
            <button @click="showAddModal = true" class="w-10 h-10 rounded-xl bg-[#F58F29] text-white flex items-center justify-center shadow-lg active:scale-90 transition-transform">
              <i data-lucide="plus"></i>
            </button>
          </div>
          <div class="space-y-4">
            <div v-for="spot in itinerary[currentDayIdx].spots" :key="spot.id" 
              class="bg-white p-4 rounded-[28px] border border-gray-100 shadow-sm flex items-start relative overflow-hidden group">
              <div class="w-12 h-12 rounded-[18px] bg-[#A4B0F5]/10 flex flex-col items-center justify-center shrink-0 mr-4 border border-[#A4B0F5]/20">
                <span class="text-[11px] font-black text-[#4464AD]">{{ spot.time }}</span>
                <span class="text-[7px] font-bold text-[#466995]">PLAN</span>
              </div>
              <div class="flex-1 pr-4">
                <h4 class="font-bold text-[#4464AD] text-sm mb-1 line-clamp-1">{{ spot.name }}</h4>
                <p class="text-[11px] text-gray-400 font-medium leading-relaxed line-clamp-2">{{ spot.desc }}</p>
                <div class="flex mt-3 space-x-3">
                  <a :href="'https://www.google.com/maps/search/?api=1&query=' + encodeURIComponent(spot.name + ' Bangkok')" target="_blank" class="flex items-center text-[9px] font-black text-[#4464AD] bg-[#4464AD]/5 px-2 py-1 rounded-lg">
                    <i data-lucide="map-pin" class="w-2.5 h-2.5 mr-1"></i> åœ°åœ–
                  </a>
                  <button @click="removeSpot(spot.id)" class="text-[9px] font-black text-red-400 py-1">ç§»é™¤</button>
                </div>
              </div>
              <i data-lucide="navigation" class="absolute -right-4 -bottom-4 text-[#4464AD]/5 w-20 h-20 -rotate-12 pointer-events-none"></i>
            </div>
          </div>
        </div>
      </div>

      <!-- è¨˜å¸³è¦–åœ– -->
      <div v-if="activeTab === 'finance'" class="px-5 pt-4 h-full overflow-y-auto pb-32 custom-scrollbar">
        <div class="bg-gradient-to-br from-[#4464AD] to-[#466995] p-8 rounded-[32px] shadow-2xl text-white mb-8 relative overflow-hidden">
          <div class="relative z-10">
            <p class="text-[9px] opacity-70 mb-1 font-bold tracking-widest uppercase">ç›®å‰é ç®—èŠ±è²»</p>
            <h2 class="text-4xl font-black">à¸¿ {{ totalExpenses.toLocaleString() }}</h2>
            <div class="mt-6 text-[10px] font-bold bg-white/10 p-3 rounded-xl border border-white/10 backdrop-blur-md">
              é ç®—ç‹€æ…‹ï¼šè‰¯å¥½ âœ… å¯æ§ç¯„åœå…§
            </div>
          </div>
          <div class="absolute -right-10 -bottom-10 w-40 h-40 bg-white/5 rounded-full blur-3xl"></div>
        </div>
        <div class="space-y-3">
          <h3 class="text-[10px] font-black text-[#4464AD] uppercase tracking-widest px-1">æœ€è¿‘æ”¯å‡º</h3>
          <div v-for="exp in expenses" :key="exp.id" class="bg-white p-4 rounded-2xl border border-gray-100 flex justify-between items-center shadow-sm">
            <div class="flex items-center space-x-4">
              <div class="w-10 h-10 bg-[#A4B0F5]/10 rounded-xl flex items-center justify-center font-bold text-[#4464AD]">{{ exp.cat[0] }}</div>
              <div>
                <h4 class="text-xs font-bold text-gray-700">{{ exp.note }}</h4>
                <p class="text-[9px] text-gray-400 font-bold">{{ exp.date }}</p>
              </div>
            </div>
            <div class="font-black text-sm text-[#7D4600]">à¸¿{{ exp.amount }}</div>
          </div>
        </div>
      </div>

      <!-- æ¸…å–®è¦–åœ– -->
      <div v-if="activeTab === 'shopping'" class="px-5 pt-4 h-full overflow-y-auto pb-32 custom-scrollbar">
        <div class="bg-white p-6 rounded-[32px] border border-gray-100 mb-6 shadow-sm">
          <h3 class="font-black text-sm text-[#4464AD] mb-6 uppercase tracking-widest flex items-center">
            <i data-lucide="shopping-bag" class="mr-2 text-[#F58F29]"></i> è¡Œå‰èˆ‡è³¼ç‰©å‚™å¿˜
          </h3>
          <div class="space-y-1">
            <div v-for="item in shoppingList" :key="item.id" @click="item.done = !item.done" 
              class="flex items-center space-x-4 py-3 px-2 rounded-xl hover:bg-gray-50 cursor-pointer transition-colors group">
              <div :class="['w-6 h-6 rounded-full border-2 transition-all flex items-center justify-center', item.done ? 'bg-[#A4B0F5] border-[#A4B0F5]' : 'border-[#A4B0F5]/40 group-hover:border-[#A4B0F5]']">
                <i v-if="item.done" data-lucide="check" class="w-3.5 h-3.5 text-white"></i>
              </div>
              <span :class="['text-xs font-bold transition-all', item.done ? 'text-gray-300 line-through' : 'text-gray-600']">{{ item.text }}</span>
            </div>
          </div>
        </div>
        <div class="flex space-x-2">
          <input v-model="newShopItem" @keyup.enter="addShopItem" placeholder="æ–°å¢æ¸…å–®..." class="flex-1 px-6 py-4 bg-white rounded-[20px] border-none shadow-lg text-xs font-bold focus:ring-2 focus:ring-[#A4B0F5]">
          <button @click="addShopItem" class="w-12 h-12 bg-[#4464AD] text-white rounded-[18px] shadow-xl flex items-center justify-center shrink-0">
            <i data-lucide="plus"></i>
          </button>
        </div>
      </div>

    </main>

    <!-- Bottom Nav -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-xl border-t border-gray-100 px-8 py-4 flex justify-between items-center z-50 shadow-[0_-4px_20px_rgba(0,0,0,0.03)] safe-bottom">
      <button @click="activeTab = 'itinerary'" :class="activeTab === 'itinerary' ? 'text-[#4464AD]' : 'text-[#A4B0F5]/40'" class="flex flex-col items-center space-y-1 transition-colors">
        <i data-lucide="calendar" class="w-5 h-5"></i><span class="text-[9px] font-black uppercase tracking-tighter">è¡Œç¨‹</span>
      </button>
      <button @click="activeTab = 'finance'" :class="activeTab === 'finance' ? 'text-[#4464AD]' : 'text-[#A4B0F5]/40'" class="flex flex-col items-center space-y-1 transition-colors">
        <i data-lucide="wallet" class="w-5 h-5"></i><span class="text-[9px] font-black uppercase tracking-tighter">è¨˜å¸³</span>
      </button>
      <button @click="activeTab = 'shopping'" :class="activeTab === 'shopping' ? 'text-[#4464AD]' : 'text-[#A4B0F5]/40'" class="flex flex-col items-center space-y-1 transition-colors">
        <i data-lucide="shopping-bag" class="w-5 h-5"></i><span class="text-[9px] font-black uppercase tracking-tighter">æ¸…å–®</span>
      </button>
    </nav>

    <!-- èƒŒæ™¯è£é£¾ -->
    <div class="fixed -top-32 -left-32 w-80 h-80 bg-[#4464AD]/5 rounded-full blur-[100px] pointer-events-none -z-10"></div>
    <div class="fixed bottom-24 -right-32 w-80 h-80 bg-[#A4B0F5]/5 rounded-full blur-[100px] pointer-events-none -z-10"></div>

    <!-- Add Spot Modal -->
    <div v-if="showAddModal" class="fixed inset-0 z-[100] flex items-end justify-center p-4">
      <div class="absolute inset-0 bg-[#4464AD]/20 backdrop-blur-sm" @click="showAddModal = false"></div>
      <div class="relative w-full max-w-sm bg-white rounded-[32px] p-8 shadow-2xl transition-all duration-300 transform translate-y-0">
        <div class="w-12 h-1.5 bg-gray-100 rounded-full mx-auto mb-6"></div>
        <h3 class="text-xl font-black text-[#4464AD] mb-6">æ–°å¢åœ°é»</h3>
        <div class="space-y-4">
          <input v-model="newItem.name" placeholder="æ™¯é»åç¨±..." class="w-full bg-gray-50 border-none rounded-2xl px-5 py-4 text-xs font-bold focus:ring-2 focus:ring-[#A4B0F5]">
          <input v-model="newItem.time" type="time" class="w-full bg-gray-50 border-none rounded-2xl px-5 py-4 text-xs font-bold focus:ring-2 focus:ring-[#A4B0F5]">
          <textarea v-model="newItem.desc" placeholder="ç°¡å–®èªªæ˜..." rows="2" class="w-full bg-gray-50 border-none rounded-2xl px-5 py-4 text-xs font-bold focus:ring-2 focus:ring-[#A4B0F5] resize-none"></textarea>
          <button @click="addSpot" :disabled="!newItem.name" class="w-full py-4 bg-[#F58F29] text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl active:scale-95 transition-all disabled:opacity-50">å„²å­˜åˆ°è¡Œç¨‹</button>
        </div>
      </div>
    </div>

  </div>

  <script>
    const { createApp, ref, computed, onMounted, nextTick, watch } = Vue;

    createApp({
      setup() {
        const activeTab = ref('itinerary');
        const currentDayIdx = ref(0);
        const showAddModal = ref(false);
        const newItem = ref({ name: '', time: '12:00', desc: '' });
        const newShopItem = ref('');

        // 9 å¤©å®Œæ•´è¡Œç¨‹æ•¸æ“š
        const itinerary = ref([
          { dateLabel: '2/25 (ä¸‰)', title: 'Day 1: å…¥å¢ƒèˆ‡é«˜ç´šé¥—å®´', spots: [
            { id: 1, time: '16:45', name: 'ç´ è¬é‚£æ™®æ©Ÿå ´ (BKK)', desc: 'è¾¦ç†å…¥å¢ƒä¸¦æ­ä¹˜è¨ˆç¨‹è»Šå‰å¾€é£¯åº—' },
            { id: 2, time: '18:30', name: 'Shama Sukhumvit', desc: 'é£¯åº—å ±åˆ° Check-in ä¼‘æ¯' },
            { id: 3, time: '19:30', name: 'Wisdom Buffet (Paragon)', desc: 'ç²¾ç·»æ³°å¼/åœ‹éš›æ–™ç†åƒåˆ°é£½' },
            { id: 4, time: '21:00', name: 'After You Dessert Cafe', desc: 'å¿…åƒæ³°å¥¶åˆ¨å†°èˆ‡åå¸' }
          ]},
          { dateLabel: '2/26 (å››)', title: 'Day 2: è€åŸå€ç¾é£Ÿå·¡ç¦®', spots: [
            { id: 5, time: '10:00', name: 'å—é¾å¸‚å ´ (Nang Loeng)', desc: '40å¹´ç‰›è‚‰éºµã€è€çˆºçˆºå’–å•¡ã€å‚³çµ±ç”œé»' },
            { id: 6, time: '13:00', name: 'Boonlert è›‹éºµ', desc: 'ç¥ç€é›²åéºµå¿…é»' },
            { id: 7, time: '15:00', name: 'K. Panich èŠ’æœç³¯ç±³é£¯', desc: 'ç±³å…¶æ—å¿…æ¯”ç™»æ¨è–¦ååº—' },
            { id: 8, time: '18:30', name: 'Krua Apsorn @Dinso', desc: 'è€ç‰Œæ³°èœï¼ŒèŸ¹è‚‰çƒ˜è›‹æ¥µæ¨' }
          ]},
          { dateLabel: '2/27 (äº”)', title: 'Day 3: è—è¡“èˆ‡æ–‡åŒ–æ•£ç­–', spots: [
            { id: 9, time: '12:00', name: 'Taling Pling', desc: 'Siam Paragon ç¶“å…¸æ³°èœåˆé¤' },
            { id: 10, time: '15:00', name: 'Ong Ang Canal', desc: 'è—è¡“è¡—æ•£æ­¥ã€æ¬£è³ç‰†é¢å£ç•«' },
            { id: 11, time: '17:00', name: 'Saranrom-Uncle Tai Coffee', desc: 'é‹æ²³é‚Šæ‚ é–’ä¸‹åˆèŒ¶' },
            { id: 12, time: '19:30', name: 'Central World', desc: 'å°‹æ‰¾ Unoï¼å’–å•¡èˆ‡ç™¾è²¨é€›è¡—' }
          ]},
          { dateLabel: '2/28 (å…­)', title: 'Day 4: æ°åœ–æ°é€±æœ«ç‹‚æ­¡', spots: [
            { id: 13, time: '10:00', name: 'æ°åœ–æ°é€±æœ«å¸‚é›†', desc: 'å…¨ä¸–ç•Œæœ€å¤§é€±æœ«å¸‚é›†æŒ–å¯¶' },
            { id: 14, time: '15:00', name: 'DRINK COFFEE', desc: 'å¸‚é›†å…§çš„å† è»å’–å•¡ç¨ä½œä¼‘æ¯' },
            { id: 15, time: '19:00', name: 'åŸå ¡å¤œå¸‚ Jodd Fairs', desc: 'ç†±é¬§å¤œç”Ÿæ´»èˆ‡ç«å±±æ’éª¨' }
          ]},
          { dateLabel: '3/01 (æ—¥)', title: 'Day 5: å”äººè¡—æ·±åº¦æŒ–å¯¶', spots: [
            { id: 16, time: '10:00', name: 'ä¸‰è˜æ‰¹ç™¼å¸‚å ´', desc: 'é£¾å“ã€æ–‡å…·ã€é›œè²¨å¤§æ‰¹ç™¼' },
            { id: 17, time: '13:00', name: 'äºŒæ‰‹ç©å…·è¡—', desc: 'å°‹æ‰¾æ‡·èˆŠå…¬ä»”èˆ‡æ—¥æœ¬ç©å…·' },
            { id: 18, time: '15:30', name: 'æ¾ç“¦è·¯ Pista&', desc: 'äº«ç”¨è¶…æ¿ƒéƒé–‹å¿ƒæœå¥¶ç”œé»' },
            { id: 19, time: '19:00', name: 'Tawanchai Fresh Milk', desc: 'å”äººè¡—è¶…å¤¯é®®å¥¶åå¸' }
          ]},
          { dateLabel: '3/02 (ä¸€)', title: 'Day 6: çŸ³é¾è»è·¯å¾©å¤æ•£ç­–', spots: [
            { id: 20, time: '14:00', name: 'Talat Noi å€æ¢ç´¢', desc: 'é¦™æ¸¯è€å®…å’–å•¡ã€å¤æ—¥å’–å•¡ç³–çµ²å’–å•¡' },
            { id: 21, time: '16:00', name: 'æœ¨ç‚­çƒ¤åœŸå¸ / æ—¥æœ¬éºµåŒ…', desc: 'åœ¨åœ°è¶…äººæ°£åˆèŒ¶é»å¿ƒ' },
            { id: 22, time: '19:00', name: 'Sam Lor', desc: 'èˆ’èŠ™è•¾æ­å§†è›‹é£¯ç²¾ç·»æ™šé¤' }
          ]},
          { dateLabel: '3/03 (äºŒ)', title: 'Day 7: å¸­éš†æ™‚å°šèˆ‡ç™¾è²¨', spots: [
            { id: 23, time: '12:00', name: 'Central Park Bangkok', desc: 'ç±³å…¶æ—ä¸€æ¢è¡—èˆ‡ç™¾è²¨æ¢ç´¢' },
            { id: 24, time: '15:00', name: 'MBK Center', desc: 'å¾©å¤ç›¸æ©Ÿèˆ‡é›»å­ç”¢å“æŒ–å¯¶' },
            { id: 25, time: '19:00', name: 'çŸ®äººé¤å»³ SalbanÃ¨l', desc: 'åœ¨åœ°äººæ‰çŸ¥é“çš„ç¾©å¤§åˆ©æ–™ç†' }
          ]},
          { dateLabel: '3/04 (ä¸‰)', title: 'Day 8: ç«è»Šå¤œå¸‚èˆ‡ç‚’æ²³ç²‰', spots: [
            { id: 26, time: '12:00', name: 'Pad Thai Fai Ta Lu', desc: 'ç±³å…¶æ—ç‚­ç«ç‚’æ²³ç²‰åˆé¤' },
            { id: 27, time: '15:00', name: '965bkk å±•å ´', desc: 'æ³°åœ‹åœ¨åœ°æ–‡å‰µè¨­è¨ˆå±•ç©ºé–“' },
            { id: 28, time: '19:00', name: 'å¸Œå¨œå…‹ç³ç«è»Šå¤œå¸‚', desc: 'è¶…å·¨å‹å¾©å¤æ”¶è—å®¶å¸‚é›†' }
          ]},
          { dateLabel: '3/05 (å››)', title: 'Day 9: ä¼´æ‰‹ç¦®æœ€å¾Œè¡åˆº', spots: [
            { id: 29, time: '10:00', name: 'Siam å‘¨é‚Šè£œè²¨', desc: 'Big C ä¼´æ‰‹ç¦®ã€æ³°å¥¶ã€æµ·è‹”æœ€å¾Œè³¼è²·' },
            { id: 30, time: '14:30', name: 'å‰å¾€ BKK æ©Ÿå ´', desc: 'é ç•™æ™‚é–“è¾¦ç†é€€ç¨…èˆ‡å ±åˆ°' },
            { id: 31, time: '17:50', name: 'æ­æ©Ÿå›æ¡ƒåœ’', desc: 'å¹³å®‰è³¦æ­¸' }
          ]}
        ]);

        const expenses = ref([
          { id: 1, cat: 'é¤é£²', amount: 1250, note: 'Wisdom Buffet', date: '2/25' },
          { id: 2, cat: 'äº¤é€š', amount: 450, note: 'æ©Ÿå ´è¨ˆç¨‹è»Š (åŒ…å«éè·¯è²»)', date: '2/25' },
          { id: 3, cat: 'è³¼ç‰©', amount: 800, note: 'æ°åœ–æ°æœé£¾', date: '2/28' }
        ]);

        const shoppingList = ref([
          { id: 1, text: 'è­·ç…§ & ç°½è­‰', done: true },
          { id: 2, text: 'æ³°éŠ–ç¾é‡‘ (ç›¤è°·éŠ€è¡Œ)', done: true },
          { id: 3, text: 'æ³°åœ‹ 5G SIM å¡', done: true },
          { id: 4, text: 'é˜²èšŠæ¶² & è…¸èƒƒè—¥', done: false },
          { id: 5, text: 'é¼»é€šå…«ä»™ç­’', done: false },
          { id: 6, text: 'æ³°å¼å¥¶èŒ¶ç²‰', done: false }
        ]);

        const totalExpenses = computed(() => expenses.value.reduce((s, e) => s + e.amount, 0));

        const addSpot = () => {
          if (!newItem.value.name) return;
          itinerary.value[currentDayIdx.value].spots.push({
            id: Date.now(),
            ...newItem.value
          });
          itinerary.value[currentDayIdx.value].spots.sort((a, b) => a.time.localeCompare(b.time));
          showAddModal.value = false;
          newItem.value = { name: '', time: '12:00', desc: '' };
          nextTick(() => lucide.createIcons());
        };

        const removeSpot = (id) => {
          itinerary.value[currentDayIdx.value].spots = itinerary.value[currentDayIdx.value].spots.filter(s => s.id !== id);
          nextTick(() => lucide.createIcons());
        };

        const addShopItem = () => {
          if (!newShopItem.value.trim()) return;
          shoppingList.value.push({ id: Date.now(), text: newShopItem.value, done: false });
          newShopItem.value = '';
          nextTick(() => lucide.createIcons());
        };

        onMounted(() => {
          lucide.createIcons();
        });

        watch(activeTab, () => {
          nextTick(() => lucide.createIcons());
        });

        watch(currentDayIdx, () => {
          nextTick(() => lucide.createIcons());
        });

        watch(shoppingList, () => {
          nextTick(() => lucide.createIcons());
        }, { deep: true });

        return { 
          activeTab, itinerary, currentDayIdx, 
          expenses, shoppingList, totalExpenses, 
          showAddModal, newItem, newShopItem,
          addSpot, removeSpot, addShopItem 
        };
      }
    }).mount('#app');
  </script>
</body>
</html>
